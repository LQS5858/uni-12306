(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-index"],{"37aa":function(t,e,a){"use strict";var r;a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return i})),a.d(e,"a",(function(){return r}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"wrap"},[a("v-uni-view",{staticClass:"header-wrap width"},[a("v-uni-image",{staticClass:"header",attrs:{src:"/static/images/header.jpg"}})],1),a("v-uni-view",{staticClass:"width"},[a("v-uni-view",{staticClass:"row"},[a("v-uni-text",{staticClass:"label"},[t._v("*")]),a("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"用户名"},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username","string"===typeof e?e.trim():e)},expression:"form.username"}})],1),a("v-uni-view",{staticClass:"row pwd"},[a("v-uni-text",{staticClass:"label"},[t._v("*")]),a("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"密码"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password","string"===typeof e?e.trim():e)},expression:"form.password"}})],1),a("v-uni-view",{staticClass:"row"},[a("v-uni-text",{staticClass:"label"},[t._v("*")]),a("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"输入图片序列号如:136"},model:{value:t.code,callback:function(e){t.code="string"===typeof e?e.trim():e},expression:"code"}})],1)],1),a("v-uni-view",{staticClass:"width captcha-image-wrap"},[a("v-uni-image",{staticClass:"captcha-image",attrs:{src:"data:image/png;base64,"+t.captcha},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.activeImage.apply(void 0,arguments)}}}),a("v-uni-view",{staticClass:"refresh",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.refreshHandler.apply(void 0,arguments)}}},[t._v("刷新")])],1),a("v-uni-view",{staticClass:"width"},[a("v-uni-button",{attrs:{type:"primary"},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.login.apply(void 0,arguments)}}},[t._v("登录")])],1)],1)},i=[]},"39dd":function(t,e,a){"use strict";a.r(e);var r=a("37aa"),n=a("4a64");for(var i in n)"default"!==i&&function(t){a.d(e,t,(function(){return n[t]}))}(i);a("cde1");var s,c=a("f0c5"),o=Object(c["a"])(n["default"],r["b"],r["c"],!1,null,"72853830",null,!1,r["a"],s);e["default"]=o.exports},"4a64":function(t,e,a){"use strict";a.r(e);var r=a("e5b3"),n=a.n(r);for(var i in r)"default"!==i&&function(t){a.d(e,t,(function(){return r[t]}))}(i);e["default"]=n.a},7972:function(t,e,a){var r=a("24fb");e=r(!1),e.push([t.i,".wrap[data-v-72853830]{background:#0a122d;height:100vh}.wrap .label[data-v-72853830]{color:#f56c6c;padding-right:%?10?%}.wrap[data-v-72853830] .uni-input-input{color:#ececf5}.wrap .pwd[data-v-72853830]{padding:%?30?% 0}.wrap .row[data-v-72853830]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start}.wrap .row .input[data-v-72853830]{-webkit-box-flex:1;-webkit-flex:1;flex:1}.wrap .header-wrap[data-v-72853830]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;background:#0d183b;padding:%?30?%}.wrap .width[data-v-72853830]{width:85%;margin:%?30?% auto %?30?%}.wrap .captcha-image-wrap[data-v-72853830]{position:relative}.wrap .captcha-image-wrap .actived[data-v-72853830]{position:absolute;width:%?54?%;height:%?44?%}.wrap .refresh[data-v-72853830]{position:absolute;right:0;top:%?10?%}.wrap .header[data-v-72853830]{width:120px;height:100px}.wrap[data-v-72853830] .input{height:40px;border:1px solid #ececf5}",""]),t.exports=e},a623:function(t,e,a){"use strict";var r=a("23e7"),n=a("b727").every,i=a("a640"),s=a("ae40"),c=i("every"),o=s("every");r({target:"Array",proto:!0,forced:!c||!o},{every:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},cbab:function(t,e,a){var r=a("7972");"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var n=a("4f06").default;n("7183f380",r,!0,{sourceMap:!1,shadowMode:!1})},cde1:function(t,e,a){"use strict";var r=a("cbab"),n=a.n(r);n.a},e5b3:function(t,e,a){"use strict";var r=a("4ea4");a("99af"),a("a623"),a("a15b"),a("13d5"),a("07ac"),a("ac1f"),a("1276"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(a("5530"));a("96cf");var i=r(a("1da1")),s={1:"40,40",2:"120,40",3:"180,40",4:"250,40",5:"40,100",6:"120,100",7:"180,100",8:"250,100"},c={name:"login",data:function(){return{form:{username:null,password:null,answer:null},code:null,captcha:null,activedImagPos:{left:"",top:""},anwserList:[]}},methods:{validateForm:function(){var t=this;return(0,i.default)(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=Object.values(t.form).every((function(t){return t})),e.abrupt("return",a);case 2:case"end":return e.stop()}}),e)})))()},login:function(){var t=this;return(0,i.default)(regeneratorRuntime.mark((function e(){var a,r,i,s,c,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.codeChange();case 2:if(a=e.sent,a){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,t.validateForm();case 7:if(r=e.sent,r){e.next=10;break}return e.abrupt("return",uni.showToast({title:"带*为必填项",duration:5e3}));case 10:return i={data:(0,n.default)((0,n.default)({},t.form),{},{appid:"otn"})},console.log("登录参数",i),e.next=14,t.$http.post("v3/member/login",i).catch((function(t){var e=t||{},a=e.error,r=e.message;uni.showToast({title:a||r,duration:5e3})}));case 14:s=e.sent,s&&(c=s&&s.join(";"),o=encodeURIComponent(c),console.log("---登录结果--",c,o));case 16:case"end":return e.stop()}}),e)})))()},codeChange:function(){var t=this;return(0,i.default)(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.code&&t.code.split(""),console.log("---分割arr--",a),a&&a.length){e.next=4;break}return e.abrupt("return");case 4:return t.form.answer=a.reduce((function(t,e){var a=s[e],r=t?"".concat(t,",").concat(a):a;return r}),""),e.next=7,t.fetchCheckCaptcha(t.form.answer);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})))()},fetchCheckCaptcha:function(t){var e=this;return(0,i.default)(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r={data:{login_site:"E",rand:"sjrand",answer:t}},console.log("---json--",r),a.next=4,e.$http.post("v3/member/checkCaptcha",r).catch((function(t){var e=t||{},a=e.error,r=e.message;uni.showToast({title:a||r,duration:5e3})}));case 4:return n=a.sent,a.abrupt("return",n);case 6:case"end":return a.stop()}}),a)})))()},refreshHandler:function(){this.getImage()},activeImage:function(t){var e=t||{},a=e.detail;console.log("--图片点击--",t.detail);var r=a||{},n=r.x,i=r.y,s=i-30;this.anwserList.push(n+","+s);this.anwserList.join(",");this.$set(this.activedImagPos,"left","".concat(n,"rpx")),this.$set(this.activedImagPos,"top","".concat(s,"rpx"))},getImage:function(){var t=this;return(0,i.default)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("v3/member/getCaptcha");case 2:t.captcha=e.sent;case 3:case"end":return e.stop()}}),e)})))()}},onShow:function(){this.getImage()}};e.default=c}}]);